[GLOBAL]
lib.fluidContent {
  templateRootPaths.c1_c1_fsc_image = EXT:c1_fsc_image/Resources/Private/Templates/
  partialRootPaths.c1_fsc_image = EXT:c1_fsc_image/Resources/Private/Partials/
  layoutRootPaths.c1_fsc_image = EXT:c1_fsc_image/Resources/Private/Layouts/
}

tt_content {
    c1_fsc_image < lib.fluidContent
    c1_fsc_image {
        templateName = Content/ResponsiveImage
        dataProcessing {
            10 = TYPO3\CMS\Frontend\DataProcessing\FilesProcessor
            10 {
                references.fieldName = assets
            }
            20 = TYPO3\CMS\Frontend\DataProcessing\GalleryProcessor
			20 {
				maxGalleryWidth = {$styles.content.textmedia.maxW}
				maxGalleryWidthInText = {$styles.content.textmedia.maxWInText}
#				columnSpacing = {$styles.content.textmedia.columnSpacing}
#				borderWidth = {$styles.content.textmedia.borderWidth}
#				borderPadding = {$styles.content.textmedia.borderPadding}
			}
            30 = C1\C1FscImage\DataProcessing\C1FscImageProcessor
        }
    }
}

plugin.tx_c1fscimage {
    settings {
        image_formats {
            # 0 is the original image format, we leave that unset 
            # 16:9
            1 {
                ratio = 1.7777778
            }
            # 16:10
            2 {
                ratio = 1.6
            }
            # 4:3
            3 {
                ratio = 1.3333333
            }
            # 2:1
            4 {
                ratio = 2
            }
            # 1:1
            5 {
                ratio = 1
            }
        }
    }
}

module.tx_c1fscimage < plugin.tx_c1fscimage
